{"remainingRequest":"/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/thread-loader/dist/cjs.js!/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/babel-loader/lib/index.js!/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/vuetify-loader/lib/loader.js!/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/src/components/Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/src/components/Navbar.vue","mtime":1557688131821},{"path":"/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/cache-loader/dist/cjs.js","mtime":1554740001798},{"path":"/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/thread-loader/dist/cjs.js","mtime":1554740006406},{"path":"/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/babel-loader/lib/index.js","mtime":1554740001640},{"path":"/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/vuetify-loader/lib/loader.js","mtime":1554740006624},{"path":"/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/cache-loader/dist/cjs.js","mtime":1554740001798},{"path":"/Users/liuxiaoyang/Documents/TUCSProgram/AdvancedWebDevelopment/recpars/node_modules/vue-loader/lib/index.js","mtime":1554740006548}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Popup from './Popup';\nimport firebase from 'firebase';\nimport db from '@/fb';\nexport default {\n  components: {\n    Popup: Popup\n  },\n  data: function data() {\n    return {\n      drawer: false,\n      links: [{\n        icon: 'home',\n        text: 'Home',\n        route: '/'\n      }, {\n        icon: 'dashboard',\n        text: 'Studies',\n        route: '/studies'\n      }, {\n        icon: 'folder',\n        text: 'My Posts',\n        route: '/myposts'\n      }, {\n        icon: 'group',\n        text: 'Groups',\n        route: '/groups'\n      }],\n      snackbar: false\n    };\n  },\n  computed: {\n    isAuthenticated: function isAuthenticated() {\n      return this.$store.getters.isAuthenticated;\n    },\n    userPhotoUrl: function userPhotoUrl() {\n      return this.$store.getters.userPhotoUrl;\n    },\n    userDisplayName: function userDisplayName() {\n      return this.$store.getters.userDisplayName;\n    }\n  },\n  methods: {\n    logout: function logout() {\n      this.$store.dispatch('userSignOut');\n    },\n    getUserData: function getUserData(uid) {\n      var docRef = db.collection(\"users\").doc(uid);\n      docRef.get().then(function (doc) {\n        return doc.data();\n      }).catch(function (error) {\n        return null;\n      });\n    }\n  }\n};",{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,KAAA,MAAA,SAAA;AACA,OAAA,QAAA,MAAA,UAAA;AACA,OAAA,EAAA,MAAA,MAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,KAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,WAAA;AAAA,QAAA,IAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,IAAA,EAAA,UAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,IAAA,EAAA,OAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,CAFA;AAQA,MAAA,QAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,QAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,eAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,YAAA;AACA,KANA;AAOA,IAAA,eAPA,6BAOA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,eAAA;AACA;AATA,GAdA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA,KAHA;AAIA,IAAA,WAJA,uBAIA,GAJA,EAIA;AACA,UAAA,MAAA,GAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,GAAA,CAAA,GAAA,CAAA;AACA,MAAA,MAAA,CAAA,GAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,eAAA,GAAA,CAAA,IAAA,EAAA;AACA,OAFA,EAEA,KAFA,CAEA,UAAA,KAAA,EAAA;AACA,eAAA,IAAA;AACA,OAJA;AAKA;AAXA;AAzBA,CAAA","sourcesContent":["<template>\n    <nav>\n        <v-snackbar v-model=\"snackbar\" :timeout=\"4000\" top color=\"success\">\n            <span>Congratulations! Your study has been posted!</span>\n            <v-btn flat color=\"white\" @click=\"snackbar=false\">Close</v-btn>\n        </v-snackbar>\n\n        <v-toolbar flat app>\n            <v-toolbar-side-icon class=\"primary--text\" @click=\"drawer = !drawer\"></v-toolbar-side-icon>\n            <v-toolbar-title class=\"text-uppercase primary--text\">\n                <span class=\"font-weight-light\">Recruit</span>\n                <span>Participants</span>\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n\n            <v-menu offset-y>\n                <v-btn flat slot=\"activator\" color=\"primary\">\n                    <v-icon left>expand_more</v-icon>\n                    <span>Menu</span>\n                </v-btn>\n                <v-list>\n                    <v-list-tile v-for=\"link in links\" :key=\"link.text\" router :to=\"link.route\">\n                        <v-list-tile-title>{{ link.text }}</v-list-tile-title>\n                    </v-list-tile>\n                </v-list>\n            </v-menu>\n\n            <v-btn v-if=\"!isAuthenticated\" flat color=\"primary\" to=\"/signin\">\n                <span>Sign in</span>\n                <v-icon right>person_add</v-icon>\n            </v-btn>\n            <v-btn v-else flat color=\"primary\" @click=\"logout\">\n                <span>Sign Out</span>\n                <v-icon right>exit_to_app</v-icon>\n            </v-btn>\n        </v-toolbar>\n\n        <v-navigation-drawer v-model=\"drawer\" app temporary class=\"primary\">\n            <v-layout column align-center>\n                <v-flex class=\"mt-5\">\n                    <v-avatar size=\"100\">\n                        <img :src=\"userPhotoUrl\">\n                    </v-avatar>\n\n                    <p class=\"white--text subheading mt-1 text-xs-center\">\n                        {{userDisplayName}}\n                    </p>\n                </v-flex>\n                <v-flex class=\"mt-4 mb-3\">\n                    <Popup @studyAdded=\"snackbar = true\" />\n                </v-flex>\n            </v-layout>\n            <v-list>\n                <v-list-tile v-for=\"link in links\" :key=\"link.text\" router :to=\"link.route\">\n                    <v-list-tile-action>\n                        <v-icon class=\"white--text\">{{ link.icon }}</v-icon>\n                    </v-list-tile-action>\n                    <v-list-tile-content>\n                        <v-list-tile-title class=\"white--text\">{{ link.text }}</v-list-tile-title>\n                    </v-list-tile-content>\n                </v-list-tile>\n            </v-list>\n        </v-navigation-drawer>\n    </nav>\n</template>\n\n<script>\nimport Popup from './Popup'\nimport firebase from 'firebase'\nimport db from '@/fb'\nexport default {\n    components: { Popup },\n    data(){\n        return{\n            drawer: false,\n            links: [\n                { icon: 'home', text: 'Home', route: '/'},\n                { icon: 'dashboard', text: 'Studies', route: '/studies' },\n                { icon: 'folder', text: 'My Posts', route: '/myposts' },\n                { icon: 'group', text: 'Groups', route: '/groups' },\n            ],\n            snackbar: false         \n        }\n    },\n    computed: {\n        isAuthenticated() {\n            return this.$store.getters.isAuthenticated;\n        },\n        userPhotoUrl() {\n            return this.$store.getters.userPhotoUrl;\n        },\n        userDisplayName() {\n            return this.$store.getters.userDisplayName;\n        }\n    },\n    methods: {\n        logout() {\n            this.$store.dispatch('userSignOut');\n        },\n        getUserData(uid) {\n            var docRef = db.collection(\"users\").doc(uid);\n            docRef.get().then( function(doc) {\n                 return doc.data();\n            }).catch( function(error) {\n                return null;\n            });\n        },\n        // getProfilePhotoUrl() {\n        //     var profileSrc = \"\";\n        //     if(this.isAuthenticated){\n        //         var user = firebase.auth().currentUser;\n        //         if (user != null) {\n        //             // ---------------- Authentication method -------------------\n        //             // if (user.photoURL != \"\" && user.photoURL != null) {\n        //             //     profileSrc = user.photoURL;\n        //             // } else {\n        //             //     profileSrc = \"profile_default.png\";\n        //             // }\n        //             // ---------------- Database method -------------------\n        //             var userData = this.getUserData(user.uid);\n        //             if(userData != null) {\n        //                 profileSrc = userData.photoURL;\n        //             }\n        //         } else {\n        //             profileSrc =  \"profile_default.png\";\n        //         }\n        //     } else {\n        //         profileSrc = \"profile_default.png\";\n        //     }\n        //     return profileSrc;\n        // },\n        // getProfileName() {\n        //     var displayName = \"\";\n        //     // if(this.isAuthenticated){\n        //     //     var user = firebase.auth().currentUser;\n        //     //     if(user != null){\n        //     //         // ---------------- Authentication method -------------------\n        //     //         // displayName = user.displayName;\n        //     //         // ---------------- Database method -------------------\n        //     //         var docRef = db.collection(\"users\").doc(user.uid);\n        //     //         docRef.get().then( doc => {\n        //     //             if (doc.exist){\n        //     //                 displayName = doc.data().displayName;\n        //     //             } else {\n        //     //                 displayName = \"Visitor\";\n        //     //             }\n        //     //         });\n        //     //     } else {\n        //     //         displayName = \"Visitor\";\n        //     //     }\n        //     // } else {\n        //     //     displayName = \"Guest\";\n        //     // }\n        //     return displayName;\n        // }                        \n    }\n\n}</script>\n"],"sourceRoot":"src/components"}]}